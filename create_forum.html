<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create Forum</title>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app-compact.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore-compact.js"></script>
    <script type="module">
      import firebase from 'node_modules/firebase/compat/app';
      import 'node_modules/firebase/compat/auth';
      import 'node_modules/firebase/compat/firestore';
      const firebaseConfig = {
      apiKey: "AIzaSyCNg0dn4mTW4E489OkRxwvXAzr25qOMS1M",
      authDomain: "portfolio-forum-cce27.firebaseapp.com",
      projectId: "portfolio-forum-cce27",
      storageBucket: "portfolio-forum-cce27.appspot.com",
      messagingSenderId: "200834829160",
      appId: "1:200834829160:web:a97c64807874a4aa4c24dd",
      };
      firebase.initializeApp(options, FirebaseOptions(firebaseConfig))
    </script>
</head>
<body>
    <h1>Create New Forum</h1>
    <form id="createForumForm">
        <input type="text" id="title" placeholder="Title" required>
        <textarea id="description" placeholder="Description" required></textarea>
        <button type="submit">Create Forum</button>
    </form>
    <a href="forums.html">Back to Forums</a>
    <script>
      var db = firebase.firestore();

      document.getElementById("createForumForm").addEventListener("submit", function(e) {
        firebase.e.preventDefault();
        const title = document.getElementById("title").value;
        const description = document.getElementById("description").value;

        db.collection("forums").add({
          title: title,
          description: description,
          createdAt: firebase.FieldValue.serverTimestamp()
        })
        .then((docRef) => {
          console.log("Forum created with ID: ", docRef.id);
          // Redirect to forums list or clear form
        })
        .catch((error) => {
          console.error("Error adding document: ", error);
        });
      });
    </script>
</body>
</html>
